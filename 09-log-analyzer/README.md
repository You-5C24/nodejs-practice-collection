# 日志分析工具 (Log Analyzer)

一个日志分析工具，用于学习 Stream 处理和数据分析技术。

## 📖 学习目标

- **Stream 处理：** 流式读取大文件
- **正则表达式：** 日志解析和模式匹配
- **数据分析：** 统计和聚合数据
- **报告生成：** 生成分析报告
- **性能优化：** 处理大文件的优化技巧
- **可视化：** 数据可视化展示

## 🎯 功能特性

### 1. 日志解析
- 支持多种日志格式
- 自定义解析规则
- 提取关键信息
- 处理多行日志

### 2. 数据分析
- 错误统计
- 访问量统计
- 响应时间分析
- IP 地址统计
- 时间分布分析

### 3. 报告生成
- 生成文本报告
- 生成 HTML 报告
- 生成 JSON 数据
- 导出 CSV 文件

## 🚀 安装和使用

```bash
# 安装依赖
npm install

# 分析日志文件
npm start <log-file>

# 或直接运行
node src/index.js path/to/logfile.log
```

## 📊 支持的日志格式

- **Apache/Nginx 访问日志**
- **应用程序日志**
- **系统日志**
- **自定义格式**

## 💡 实现要点

1. 使用 Stream 逐行读取日志文件
2. 使用正则表达式解析日志内容
3. 实现数据聚合和统计
4. 处理大文件时的内存管理
5. 生成可读的分析报告
6. 实现进度显示

## 📚 相关知识点

- Node.js Stream API
- 正则表达式高级用法
- 数据结构（Map、Set）
- 文件读取优化
- 内存管理
- 数据可视化基础

## 🔗 扩展方向

- 添加实时日志监控
- 实现日志告警功能
- 添加更多日志格式支持
- 实现分布式日志收集
- 添加 Web 界面展示
- 实现日志搜索功能
- 添加异常检测算法
- 集成 ELK 栈

## 📈 分析维度

### 1. 基础统计
- 总请求数
- 成功/失败请求
- 平均响应时间
- 请求频率

### 2. 错误分析
- 错误类型分布
- 错误率趋势
- 错误时间分布
- 错误来源分析

### 3. 性能分析
- 响应时间分布
- 慢请求统计
- 峰值时段分析
- 性能趋势

### 4. 访问分析
- 热门 URL
- 来源 IP 统计
- User-Agent 分析
- 地理位置分布

## ⚡ 性能考虑

- 使用流式处理避免内存溢出
- 批量处理数据
- 合理使用缓存
- 避免阻塞主线程
- 使用 Worker 线程处理大文件

