# URL 短链接服务 (URL Shortener)

一个完整的 URL 短链接服务，包含链接生成、重定向和统计功能。

## 📖 学习目标

- **数据库设计：** URL 映射表的设计
- **哈希算法：** 生成唯一的短链接标识
- **HTTP 重定向：** 301/302 重定向的使用
- **缓存机制：** Redis 缓存提升性能
- **统计分析：** 访问次数和来源统计
- **并发处理：** 高并发访问处理

## 🎯 功能特性

### 1. 短链接生成
- 将长 URL 转换为短链接
- 支持自定义短链接
- 检查 URL 有效性
- 防止重复生成

### 2. 链接重定向
- 快速重定向到原始 URL
- 记录访问信息
- 处理过期链接

### 3. 统计分析
- 访问次数统计
- 来源分析
- 时间分布图
- 地理位置统计

## 🚀 安装和使用

```bash
# 安装依赖
npm install

# 启动服务
npm start

# 开发模式
npm run dev
```

## 📡 API 端点

```
POST   /api/shorten      - 创建短链接
GET    /api/stats/:code  - 获取链接统计
GET    /:code            - 重定向到原始 URL
```

## 💡 实现要点

1. 使用数据库存储 URL 映射
2. 实现短码生成算法（base62 编码）
3. 使用 Redis 缓存热门链接
4. 实现 301/302 重定向
5. 记录访问日志和统计信息
6. 实现链接过期机制

## 📚 相关知识点

- HTTP 重定向原理
- 哈希算法和 base62 编码
- 数据库索引优化
- Redis 缓存策略
- 并发控制
- 分布式 ID 生成

## 🔗 扩展方向

- 添加二维码生成
- 实现链接有效期设置
- 添加访问密码保护
- 实现批量生成功能
- 添加链接分组管理
- 实现 API 访问限流
- 添加链接预览功能

## 🔒 安全考虑

- 验证 URL 合法性
- 防止恶意链接
- 防止暴力破解
- 限制生成频率
- 检测钓鱼网站

